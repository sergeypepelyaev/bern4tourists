<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stadt Bern</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Dein globales CSS -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <!-- Seiteigene Styles, die hier gebraucht werden -->
  <style>
    /* Hintergrund & Reset – so wie du es hattest */
    body{
      margin: 0;
      background-image: url('https://images.pexels.com/photos/255379/pexels-photo-255379.jpeg?cs=srgb&dl=pexels-pixabay-255379.jpg&fm=jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }

    /* Falls du .card schon in styles.css hast, kannst du diesen Block weglassen */
    .card{
      max-width: 1100px;
      margin: 40px auto;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 8px 28px rgba(0,0,0,.18);
      overflow: hidden;
      padding: 15px;               /* weißer Innenrahmen */
    }

    /* Map-Container in der Card */
    #map{
      height: 600px;               /* Kartenhöhe */
      border-radius: 12px;         /* Bild/Karte abgerundet innerhalb der Card */
      overflow: hidden;
    }

    h1.title{ text-align:center; }
  </style>
</head>

<body>
  <!-- ======= dein bestehender Header / Navbar bleibt ======= -->
  <div style="height: fit-content; border-radius: 0 0 20px 20px; background-color: #FFA726;">
    <div style="display:flex; justify-content:center; align-items:center; gap:20px;">
      <img class="flag" style="width:3.5%; height:auto;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/CHE_Bern_COA.svg/1691px-CHE_Bern_COA.svg.png" alt="Bern Wappen">
      <!-- Navigation buttons -->
      <p class="navbar"><a href="test.html"  style="text-decoration:none;">Main Page</a></p>
      <p class="navbar"><a href="segei.html" style="text-decoration:none;">Story</a></p>
      <p class="navbar"><a href="Server.html" style="text-decoration:underline;">Map</a></p>
      <p class="navbar"><a href="News.html"  style="text-decoration:none;">News</a></p>
      <p class="navbar"><a href="activities.html" style="text-decoration:none;">Activities</a></p>
      <p class="navbar"><a href="reviews.html"         style="text-decoration:none;">Reviews</a></p>
      <p class="navbar"><a href="contact.html"         style="text-decoration:none;">Contact</a></p>
    </div>
  </div>

  <h1 class="title">Map</h1>

  <!-- ======= die Card mit weißem Rahmen + Karte drin ======= -->
  <div class="card">
    <div id="map"></div>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Deine Karte + Marker -->
  <script>
    // Karte erstellen
    const map = L.map('map').setView([46.948, 7.447], 14);

    // OSM Tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap'
    }).addTo(map);

    // Punkte
    const points = [
      { name: "Zytglogge",   coords: [46.9488, 7.4474], info: "Wahrzeichen von Bern" },
      { name: "Bundeshaus",  coords: [46.9466, 7.4441], info: "Sitz der Schweizer Regierung" },
      { name: "Rosengarten", coords: [46.9514, 7.4593], info: "Schöner Park mit Aussicht" }
    ];

    // Marker-Icon
    const pin = L.icon({
      iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
      shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -34]
    });

    // Marker + Popups + Tooltips
    const bounds = [];
    points.forEach(p => {
      const m = L.marker(p.coords, { icon: pin, title: p.name }).addTo(map);
      m.bindTooltip(`<strong>${p.name}</strong><br>${p.info}`, {
        direction: "top", offset: [0,-8], sticky: true, opacity: 0.9
      });
      m.bindPopup(`<h3 style="margin:0 0 6px 0;">${p.name}</h3><p style="margin:0;">${p.info}</p>`);

      bounds.push(p.coords);
    });

    // Karte so zoomen, dass alle Marker sichtbar sind
    if (bounds.length) {
      map.fitBounds(bounds, { padding: [30, 30] });
    }

    // Optional: Popup beim Hover
    // map.eachLayer(l => { if (l instanceof L.Marker) {
    //   l.on("mouseover", function(){ this.openPopup(); });
    //   l.on("mouseout",  function(){ this.closePopup(); });
    // }}); 
  </script>
</body>
</html>
